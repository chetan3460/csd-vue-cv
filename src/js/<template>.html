<template>
  <div class="container">
    <!-- Your HTML content here -->
  </div>
</template>

<template>
  <!-- Your template code here -->
</template>

<template>
  <!-- Your template code here -->
</template>

<script setup>
import { onMounted } from 'vue';

const bgColor = () => {
  onMounted(() => {
    /* SMOOTH SCROLL */
    const scroller = new LocomotiveScroll({
      el: document.querySelector('.dizme_tm_all_wrap'),
      smooth: true
    });

    scroller.on('scroll', ScrollTrigger.update);

    ScrollTrigger.scrollerProxy('.dizme_tm_all_wrap', {
      scrollTop(value) {
        return arguments.length
          ? scroller.scrollTo(value, 0, 0)
          : scroller.scroll.instance.scroll.y;
      },
      getBoundingClientRect() {
        return {
          left: 0,
          top: 0,
          width: window.innerWidth,
          height: window.innerHeight
        };
      }
    });

    ScrollTrigger.addEventListener('refresh', () => scroller.update());

    ScrollTrigger.refresh();

    /* COLOR CHANGER */
    window.addEventListener('load', function () {
      const scrollColorElems = document.querySelectorAll('[data-bgcolor]');
      scrollColorElems.forEach((colorSection, i) => {
        const prevBg = i === 0 ? '' : scrollColorElems[i - 1].dataset.bgcolor;
        const prevText = i === 0 ? '' : scrollColorElems[i - 1].dataset.textcolor;

        ScrollTrigger.create({
          trigger: colorSection,
          scroller: '.container',
          start: 'top 50%',
          onEnter: () =>
            gsap.to('body', {
              backgroundColor: colorSection.dataset.bgcolor,
              color: colorSection.dataset.textcolor,
              overwrite: 'auto'
            }),
          onLeaveBack: () =>
            gsap.to('body', {
              backgroundColor: prevBg,
              color: prevText,
              overwrite: 'auto'
            })
        });
      });
    });
  });
};

bgColor(); // Call the function to initialize onMounted behavior
</script>


<script setup>
  import { onBeforeUnmount } from 'vue';
  
  if (typeof LocomotiveScroll !== 'undefined') {
    window.scrollTo(0, 0);
  
    const scroller = new LocomotiveScroll({
      el: document.querySelector("[data-scroll-container]"),
      smooth: true,
      mobile: {
        breakpoint: 0,
        smooth: true,
      },
      tablet: {
        breakpoint: 0,
        smooth: true,
      },
    });
  
    const anchorLinks = document.querySelectorAll('[data-hash]');
  
    anchorLinks.forEach((link) => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        const anchor = document.querySelector(link.getAttribute('href'));
  
        if (anchor) {
          scroller.scrollTo(anchor);
        }
      });
    });
  
    onBeforeUnmount(() => {
      window.scrollTo(0, 0);
    });
  } else {
    theme.fn.showErrorMessage(
      'Failed to Load File',
      'Failed to load: Locomotive Scroll - Include the following file(s): (vendor/locomotive-scroll/locomotive-scroll.min.js)'
    );
  }
  </script>
  
